name: Punch in

on:
  schedule:
    - cron: '* 18 * * *'
    - cron: '* 3 * * *'

jobs:
  attendence:
    name: do_punch
    runs-on: ubuntu-latest
    env:
      ACCOUNT: ${{ secrets.ACCOUNT}}
      PASSWORD: ${{ secrets.PASSWORD}}
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      # - name: debug
      #   uses: ./
      #   with:
      #     mode: out
      - name: Punch in
        if: github.event.schedule != '* 18 * * *'
        uses: ./
        with:
          mode: in
      - name: Punch out
        if: github.event.schedule != '* 3 * * *'
        uses: ./
        with:
          mode: out
